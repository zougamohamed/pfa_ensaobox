{# src/ENSAO/EnsaoboxBundle/Resources/views/admin/createUsers.html.twig #}

{% extends "PFAEnsaoboxBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Index{% endblock %}


		{% block pfa_ensaoboxHeader %}
            {{ parent() }}
        {% endblock %}
    {% block pfa_ensaoboxMenu %}
        {{ parent() }}
    {% endblock %}

    {% block pfa_ensaoboxContainer %}

        <section id="main-content">
            <section class="wrapper">
                {% if error is not empty %}
                    <div class="text-center"><h2 class="alert-danger">{{ error }}</h2></div>
                {% endif %}
                {% if success is defined %}
                    <div class="text-center"><h2 class="alert-success">{{ success }}</h2></div>
                {% endif %}
                {#<row>#}
                    {#<div class="col-lg-12 col-md-12">#}
                        {#<section class="panel">#}
                            {#<div class="panel-body">#}
                                {#{{ form_start(form_new) }}#}
                                    {#{{ form_errors(form_new) }}#}
                                        {#<span class="form-group col-lg-12 col-md-12 col-xs-12 col-sm-12">#}
                                            {#Ce boutton sera utilisé à la fin de chaque année universitaire pour augmenter le niveau de tout les étudiants.#}
                                            {#{{ form_widget(form_new.upgrade, { 'label': 'Nouvelle année universitaire' }) }}#}
                                        {#</span>#}
                                {#{{ form_end(form_new) }}#}
                            {#</div>#}
                        {#</section>#}
                    {#</div>#}
                {#</row>#}
                <row>
                    <div class="col-lg-6 col-md-6">
                        <section class="panel">
                            <header class="panel-heading">
                                Génération des comptes des étudiants.
                            </header>
                            <div class="panel-body">

                                {{ form_start(form_create) }}
                                    {{ form_errors(form_create) }}

                                    <div class="form-group">
                                        {{ form_label(form_create.filiere, 'Spécifiez la filière') }}
                                        {{ form_errors(form_create.filiere) }}
                                        {{ form_widget(form_create.filiere, { 'id': 'filiere'}) }}
                                    </div>

                                    <div class="form-group">
                                        {{ form_label(form_create.niveau, 'Spécifiez le niveau') }}
                                        {{ form_errors(form_create.niveau) }}
                                        {{ form_widget(form_create.niveau, { 'id': 'niveau'}) }}
                                    </div>

                                    <div class="form-group col-lg-9 col-md-9 col-xs-9 col-sm-9 fileUpload btn btn-primary">
                                        {{ form_errors(form_create.file) }}
                                        {{ form_widget(form_create.file) }}
                                    </div>

                                    <div class="form-group col-lg-3 col-md-3 col-xs-3 col-sm-3">
                                        {{ form_widget(form_create.save, { 'label': 'Generer' }) }}
                                    </div>
                                {{ form_end(form_create) }}
                            </div>
                        </section>
                    </div>

                    <div class="col-lg-6 col-md-6">
                        <section class="panel">
                            <header class="panel-heading">
                                Modification des comptes des étudiants.
                            </header>
                            <div class="panel-body">

                                {{ form_start(form_update) }}
                                {{ form_errors(form_update) }}

                                <div class="form-group">
                                    {{ form_label(form_update.filiere, 'Spécifiez la filière') }}
                                    {{ form_errors(form_update.filiere) }}
                                    {{ form_widget(form_update.filiere, { 'id': 'filiereu'}) }}
                                </div>

                                <div class="form-group">
                                    {{ form_label(form_update.niveau, 'Spécifiez le niveau') }}
                                    {{ form_errors(form_update.niveau) }}
                                    {{ form_widget(form_update.niveau, { 'id': 'niveauu'}) }}
                                </div>

                                <div class="form-group col-lg-3 col-md-3 col-xs-3 col-sm-3">
                                    {{ form_widget(form_update.delete, { 'label': 'Supprimer' }) }}
                                </div>

                                <div class="form-group col-lg-3 col-md-3 col-xs-3 col-sm-3">
                                    {{ form_widget(form_update.show, { 'label': 'Afficher' }) }}
                                </div>
                                {{ form_end(form_update) }}
                            </div>
                        </section>
                    </div>
                </row>
                {% if liste is defined %}
                <row>
                    <div class="col-lg-12 col-md-12">
                        <section class="panel">
                            <header class="panel-heading">
                                <h4 class="text-center"><b>La liste des étudiants</b></h4>
                            </header>
                            <table class="table table-striped table-advance table-hover">
                                <thead>
                                <tr>
                                    <th><i class="fa fa-bullhorn"></i> N°</th>
                                    <th><i class="fa fa-bookmark"></i> Username</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                    {% for etudiant in liste %}
                                    <tr>
                                        <td>{{ etudiant.numero }}</td>
                                        <td>{{ etudiant.username }}</td>
                                        <td>
                                            {#<button class="btn btn-success btn-xs"><i class="fa fa-cog"></i></button>#}
                                            {#<button class="btn btn-primary btn-xs"><i class="fa fa-pencil"></i></button>#}
                                            <a href="{{  path('pfa_ensaobox_admin', { 'f': etudiant.filieres.id, 'n': etudiant.classes.id, 'u': etudiant.id }) }}" class="btn btn-danger btn-xs"><i class="fa fa-trash-o "></i></a>
                                            {#{{ form_start(usersforms[etudiant.id],{'action': path('pfa_ensaobox_admin_update') }) }}#}
                                            {#{{ form_errors((usersforms[etudiant.id])) }}#}

                                            {#{{ form_widget((usersforms[etudiant.id]).delete) }}#}


                                            {#{{ form_end((usersforms[etudiant.id])) }}#}
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </section>
                    </div>
                </row>
                {% endif %}
            </section>
        </section>
    {% endblock %}

    {% block pfa_ensaoboxFooter %}

    {% endblock %}